<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: google.golang.org/grpc/internal/cache</title>
<link href="../../../../css/light-v0.3.6.css" rel="stylesheet">
<script src="../../../../jvs/golds-v0.3.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>cache</b></span>

<span class="title">Import Path</span>
	<a href="../../../../index.html#pkg-google.golang.org/grpc/internal/cache">google.golang.org/grpc/internal/cache</a><i> (on <a href="https://pkg.go.dev/google.golang.org/grpc/internal/cache" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../../dep/google.golang.org/grpc/internal/cache.html">2 packages</a>, and imported by <a href="../../../../dep/google.golang.org/grpc/internal/cache.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<input type='checkbox' checked class="fold" id="file-0-fold-content"><label for="file-0-fold-content">   <a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#doc">#d</a> <a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html">timeoutCache.go</a></label><span id='file-0-fold-content-items' class="fold-items">
		Package cache implements caches to be used in gRPC.</span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 2, in which 1 are exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-TimeoutCache" data-popularity="275">	<input type='checkbox' class="fold" id="TimeoutCache-fold-content"><label for="TimeoutCache-fold-content"> type <a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-38">TimeoutCache</a> <i>(struct)</i></label><span id='TimeoutCache-fold-content-docs' class="fold-docs">
		TimeoutCache is a cache with items to be deleted after a timeout.

		<input type='checkbox' class="fold" id="TimeoutCache-fold-fields"><label for="TimeoutCache-fold-fields">Fields (<i>total 3, none are exported</i>)</label><span id='TimeoutCache-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="TimeoutCache-showhide-fields"><i><label for="TimeoutCache-showhide-fields" class="show-inline">/* 3 unexporteds ... */</label><label for="TimeoutCache-showhide-fields" class="hide-inline">/* 3 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-41">cache</a> <i>map[interface{}]*<a href="#name-cacheEntry">cacheEntry</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-39">mu</a> <i><a href="../../../sync.html">sync</a>.<a href="../../../sync.html#name-Mutex">Mutex</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-40">timeout</a> <i><a href="../../../time.html">time</a>.<a href="../../../time.html#name-Duration">Duration</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="TimeoutCache-fold-methods"><label for="TimeoutCache-fold-methods">Methods (<i>total 4, in which 3 are exported</i>)</label><span id='TimeoutCache-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="TimeoutCache-fold-method-Add"><label for="TimeoutCache-fold-method-Add">(*T) <a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-60">Add</a>(key, item interface{}, callback func()) (interface{}, <a href="../../../builtin.html#name-bool">bool</a>)</label><span id='TimeoutCache-fold-method-Add-docs' class="fold-docs">
				Add adds an item to the cache, with the specified callback to be called when
				the item is removed from the cache upon timeout. If the item is removed from
				the cache using a call to Remove before the timeout expires, the callback
				will not be called.

				If the Add was successful, it returns (newly added item, true). If there is
				an existing entry for the specified key, the cache entry is not be updated
				with the specified item and it returns (existing item, false).
</span></span><span>
			<input type='checkbox' class="fold" id="TimeoutCache-fold-method-Clear"><label for="TimeoutCache-fold-method-Clear">(*T) <a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-124">Clear</a>(runCallback <a href="../../../builtin.html#name-bool">bool</a>)</label><span id='TimeoutCache-fold-method-Clear-docs' class="fold-docs">
				Clear removes all entries, and runs the callbacks if runCallback is true.
</span></span><span>
			<input type='checkbox' class="fold" id="TimeoutCache-fold-method-Remove"><label for="TimeoutCache-fold-method-Remove">(*T) <a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-91">Remove</a>(key interface{}) (item interface{}, ok <a href="../../../builtin.html#name-bool">bool</a>)</label><span id='TimeoutCache-fold-method-Remove-docs' class="fold-docs">
				Remove the item with the key from the cache.

				If the specified key exists in the cache, it returns (item associated with
				key, true) and the callback associated with the item is guaranteed to be not
				called. If the given key is not found in the cache, it returns (nil, false)
</span></span>
			<input type='checkbox' class="showhide" id="TimeoutCache-showhide-methods"><i><label for="TimeoutCache-showhide-methods" class="show-inline">/* one unexported ... */</label><label for="TimeoutCache-showhide-methods" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="TimeoutCache-fold-method-removeInternal"><label for="TimeoutCache-fold-method-removeInternal">(*T) <a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-104">removeInternal</a>(key interface{}) (*<a href="#name-cacheEntry">cacheEntry</a>, <a href="../../../builtin.html#name-bool">bool</a>)</label><span id='TimeoutCache-fold-method-removeInternal-docs' class="fold-docs">
				removeInternal removes and returns the item with key.

				caller must hold c.mu.
</span></i></span></span>
		<input type='checkbox' class="fold" id="TimeoutCache-fold-results"><label for="TimeoutCache-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='TimeoutCache-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewTimeoutCache">NewTimeoutCache</a>(timeout <a href="../../../time.html">time</a>.<a href="../../../time.html#name-Duration">Duration</a>) *<b>TimeoutCache</b></span></span>

</span></div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor type-res hidden" id="name-cacheEntry" data-popularity="75">	<input type='checkbox' class="fold" id="cacheEntry-fold-content"><label for="cacheEntry-fold-content"> type <a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-25">cacheEntry</a> <i>(struct)</i></label><span id='cacheEntry-fold-content-docs' class="fold-docs">

		<input type='checkbox' class="fold" id="cacheEntry-fold-fields"><label for="cacheEntry-fold-fields">Fields (<i>total 4, none are exported</i>)</label><span id='cacheEntry-fold-fields-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="cacheEntry-showhide-fields"><i><label for="cacheEntry-showhide-fields" class="show-inline">/* 4 unexporteds ... */</label><label for="cacheEntry-showhide-fields" class="hide-inline">/* 4 unexporteds: */</label></i><span class="hidden"><i>
			<input type='checkbox' class="fold" id="cacheEntry-fold-field-callback"><label for="cacheEntry-fold-field-callback"><a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-29">callback</a> <i>func()</i></label><span id='cacheEntry-fold-field-callback-docs' class="fold-docs">
				Note that to avoid deadlocks (potentially caused by lock ordering),
				callback can only be called without holding cache's mutex.
</span></i></span><span class="hidden"><i>
			<input type='checkbox' class="fold" id="cacheEntry-fold-field-deleted"><label for="cacheEntry-fold-field-deleted"><a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-34">deleted</a> <i><a href="../../../builtin.html#name-bool">bool</a></i></label><span id='cacheEntry-fold-field-deleted-docs' class="fold-docs">
				deleted is set to true in Remove() when the call to timer.Stop() fails.
				This can happen when the timer in the cache entry fires around the same
				time that timer.stop() is called in Remove().
</span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-26">item</a> <i>interface{}</i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-30">timer</a> <i>*<a href="../../../time.html">time</a>.<a href="../../../time.html#name-Timer">Timer</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="cacheEntry-fold-results"><label for="cacheEntry-fold-results">As Outputs Of (<i>at least one unexported</i>)</label><span id='cacheEntry-fold-results-items' class="fold-items">
			<input type='checkbox' checked class="showhide" id="cacheEntry-showhide-inputofs"><i><label for="cacheEntry-showhide-inputofs" class="show-inline">/* at least one unexported ... */</label><label for="cacheEntry-showhide-inputofs" class="hide-inline">/* at least one unexported: */</label></i><span class="hidden"><i>
			func (*<a href="#name-TimeoutCache">TimeoutCache</a>).<a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-104">removeInternal</a>(key interface{}) (*<b>cacheEntry</b>, <a href="../../../builtin.html#name-bool">bool</a>)</i></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (only one, which is exported)</i></span></span>

<div class="anchor value-res" id="name-NewTimeoutCache">	<input type='checkbox' class="fold" id="NewTimeoutCache-fold-content"><label for="NewTimeoutCache-fold-content"> func <a href="../../../../src/google.golang.org/grpc/internal/cache/timeoutCache.go^3b911.html#line-45">NewTimeoutCache</a>(timeout <a href="../../../time.html">time</a>.<a href="../../../time.html#name-Duration">Duration</a>) *<a href="#name-TimeoutCache">TimeoutCache</a></label><span id='NewTimeoutCache-fold-content-docs' class="fold-docs">
		NewTimeoutCache creates a TimeoutCache with the given timeout.

</span></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/article/tool-golds.html"><b>Golds</b></a> <i>v0.3.6</i>. (GOOS=darwin GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>