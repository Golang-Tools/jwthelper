<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: github.com/sony/sonyflake</title>
<link href="../../../css/light-v0.3.6.css" rel="stylesheet">
<script src="../../../jvs/golds-v0.3.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>sonyflake</b></span>

<span class="title">Import Path</span>
	<a href="../../../index.html#pkg-github.com/sony/sonyflake">github.com/sony/sonyflake</a><i> (on <a href="https://pkg.go.dev/github.com/sony/sonyflake" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports <a href="../../../dep/github.com/sony/sonyflake.html">4 packages</a>, and imported by <a href="../../../dep/github.com/sony/sonyflake.html#imported-by">one package</a>

<div id="files"><span class="title">Involved Source Files</span>

	<input type='checkbox' checked class="fold" id="file-0-fold-content"><label for="file-0-fold-content">   <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#doc">#d</a> <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html">sonyflake.go</a></label><span id='file-0-fold-content-items' class="fold-items">
		Package sonyflake implements Sonyflake, a distributed unique ID generator inspired by Twitter's Snowflake.

		A Sonyflake ID is composed of
		    39 bits for time in units of 10 msec
		     8 bits for a sequence number
		    16 bits for a machine id</span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 2, both are exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-Settings" data-popularity="40">	<input type='checkbox' class="fold" id="Settings-fold-content"><label for="Settings-fold-content"> type <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-37">Settings</a> <i>(struct)</i></label><span id='Settings-fold-content-docs' class="fold-docs">
		Settings configures Sonyflake:

		StartTime is the time since which the Sonyflake time is defined as the elapsed time.
		If StartTime is 0, the start time of the Sonyflake is set to "2014-09-01 00:00:00 +0000 UTC".
		If StartTime is ahead of the current time, Sonyflake is not created.

		MachineID returns the unique ID of the Sonyflake instance.
		If MachineID returns an error, Sonyflake is not created.
		If MachineID is nil, default MachineID is used.
		Default MachineID returns the lower 16 bits of the private IP address.

		CheckMachineID validates the uniqueness of the machine ID.
		If CheckMachineID returns false, Sonyflake is not created.
		If CheckMachineID is nil, no validation is done.

		<input type='checkbox' class="fold" id="Settings-fold-fields"><label for="Settings-fold-fields">Fields (<i>total 3, all are exported</i>)</label><span id='Settings-fold-fields-items' class="fold-items"><span>
			<span class="nodocs"><a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-40">CheckMachineID</a> <i>func(<a href="../../builtin.html#name-uint16">uint16</a>) <a href="../../builtin.html#name-bool">bool</a></i></span></span><span>
			<span class="nodocs"><a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-39">MachineID</a> <i>func() (<a href="../../builtin.html#name-uint16">uint16</a>, <a href="../../builtin.html#name-error">error</a>)</i></span></span><span>
			<span class="nodocs"><a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-38">StartTime</a> <i><a href="../../time.html">time</a>.<a href="../../time.html#name-Time">Time</a></i></span></span></span>
		<input type='checkbox' class="fold" id="Settings-fold-params"><label for="Settings-fold-params">As Inputs Of (<i>at least one exported</i>)</label><span id='Settings-fold-params-items' class="fold-items"><span>
			func <a href="#name-NewSonyflake">NewSonyflake</a>(st <b>Settings</b>) *<a href="#name-Sonyflake">Sonyflake</a></span></span>
		<input type='checkbox' class="fold" id="Settings-fold-values"><label for="Settings-fold-values">As Types Of (<i>only one, which is unexported</i>)</label><span id='Settings-fold-values-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Settings-showhide-values"><i><label for="Settings-showhide-values" class="show-inline">/* one unexported ... */</label><label for="Settings-showhide-values" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			  var github.com/Golang-Tools/jwthelper/utils/idgener.<a href="../Golang-Tools^b0a0c/jwthelper/utils/idgener.html#name-defaultSetting">defaultSetting</a></i></span></span>

</span></div><div class="anchor type-res" id="name-Sonyflake" data-popularity="175">	<input type='checkbox' class="fold" id="Sonyflake-fold-content"><label for="Sonyflake-fold-content"> type <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-44">Sonyflake</a> <i>(struct)</i></label><span id='Sonyflake-fold-content-docs' class="fold-docs">
		Sonyflake is a distributed unique ID generator.

		<input type='checkbox' class="fold" id="Sonyflake-fold-fields"><label for="Sonyflake-fold-fields">Fields (<i>total 5, none are exported</i>)</label><span id='Sonyflake-fold-fields-items' class="fold-items">
			<input type='checkbox' class="showhide" id="Sonyflake-showhide-fields"><i><label for="Sonyflake-showhide-fields" class="show-inline">/* 5 unexporteds ... */</label><label for="Sonyflake-showhide-fields" class="hide-inline">/* 5 unexporteds: */</label></i><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-47">elapsedTime</a> <i><a href="../../builtin.html#name-int64">int64</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-49">machineID</a> <i><a href="../../builtin.html#name-uint16">uint16</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-45">mutex</a> <i>*<a href="../../sync.html">sync</a>.<a href="../../sync.html#name-Mutex">Mutex</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-48">sequence</a> <i><a href="../../builtin.html#name-uint16">uint16</a></i></span></i></span><span class="hidden"><i>
			<span class="nodocs"><a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-46">startTime</a> <i><a href="../../builtin.html#name-int64">int64</a></i></span></i></span></span>
		<input type='checkbox' class="fold" id="Sonyflake-fold-methods"><label for="Sonyflake-fold-methods">Methods (<i>total 2, in which 1 are exported</i>)</label><span id='Sonyflake-fold-methods-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="Sonyflake-fold-method-NextID"><label for="Sonyflake-fold-method-NextID">(*T) <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-86">NextID</a>() (<a href="../../builtin.html#name-uint64">uint64</a>, <a href="../../builtin.html#name-error">error</a>)</label><span id='Sonyflake-fold-method-NextID-docs' class="fold-docs">
				NextID generates a next unique ID.
				After the Sonyflake time overflows, NextID returns an error.
</span></span>
			<input type='checkbox' class="showhide" id="Sonyflake-showhide-methods"><i><label for="Sonyflake-showhide-methods" class="show-inline">/* one unexported ... */</label><label for="Sonyflake-showhide-methods" class="hide-inline">/* one unexported: */</label></i><span class="hidden"><i>
			<span class="nodocs">(*T) <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-123">toID</a>() (<a href="../../builtin.html#name-uint64">uint64</a>, <a href="../../builtin.html#name-error">error</a>)</span></i></span></span>
		<input type='checkbox' class="fold" id="Sonyflake-fold-results"><label for="Sonyflake-fold-results">As Outputs Of (<i>at least one exported</i>)</label><span id='Sonyflake-fold-results-items' class="fold-items"><span>
			func <a href="#name-NewSonyflake">NewSonyflake</a>(st <a href="#name-Settings">Settings</a>) *<b>Sonyflake</b></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 8, in which 2 are exported)</i></span></span>

<div class="anchor value-res" id="name-Decompose">	<input type='checkbox' class="fold" id="Decompose-fold-content"><label for="Decompose-fold-content"> func <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-168">Decompose</a>(id <a href="../../builtin.html#name-uint64">uint64</a>) map[<a href="../../builtin.html#name-string">string</a>]<a href="../../builtin.html#name-uint64">uint64</a></label><span id='Decompose-fold-content-docs' class="fold-docs">
		Decompose returns a set of Sonyflake ID parts.

</span></div><div class="anchor value-res" id="name-NewSonyflake">	<input type='checkbox' class="fold" id="NewSonyflake-fold-content"><label for="NewSonyflake-fold-content"> func <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-57">NewSonyflake</a>(st <a href="#name-Settings">Settings</a>) *<a href="#name-Sonyflake">Sonyflake</a></label><span id='NewSonyflake-fold-content-docs' class="fold-docs">
		NewSonyflake returns a new Sonyflake configured with the given Settings.
		NewSonyflake returns nil in the following cases:
		- Settings.StartTime is ahead of the current time.
		- Settings.MachineID returns an error.
		- Settings.CheckMachineID returns false.

</span></div>	<input type='checkbox' class="showhide" id="unexported-functions-showhide"><i><label for="unexported-functions-showhide" class="show-inline">/* 6 unexporteds ... */</label><label for="unexported-functions-showhide" class="hide-inline">/* 6 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-currentElapsedTime"><i>	<span class="nodocs"> func <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-114">currentElapsedTime</a>(startTime <a href="../../builtin.html#name-int64">int64</a>) <a href="../../builtin.html#name-int64">int64</a></span></i></div><div class="anchor value-res hidden" id="name-isPrivateIPv4"><i>	<span class="nodocs"> func <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-153">isPrivateIPv4</a>(ip <a href="../../net.html">net</a>.<a href="../../net.html#name-IP">IP</a>) <a href="../../builtin.html#name-bool">bool</a></span></i></div><div class="anchor value-res hidden" id="name-lower16BitPrivateIP"><i>	<span class="nodocs"> func <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-158">lower16BitPrivateIP</a>() (<a href="../../builtin.html#name-uint16">uint16</a>, <a href="../../builtin.html#name-error">error</a>)</span></i></div><div class="anchor value-res hidden" id="name-privateIPv4"><i>	<span class="nodocs"> func <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-133">privateIPv4</a>() (<a href="../../net.html">net</a>.<a href="../../net.html#name-IP">IP</a>, <a href="../../builtin.html#name-error">error</a>)</span></i></div><div class="anchor value-res hidden" id="name-sleepTime"><i>	<span class="nodocs"> func <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-118">sleepTime</a>(overtime <a href="../../builtin.html#name-int64">int64</a>) <a href="../../time.html">time</a>.<a href="../../time.html#name-Duration">Duration</a></span></i></div><div class="anchor value-res hidden" id="name-toSonyflakeTime"><i>	<span class="nodocs"> func <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-110">toSonyflakeTime</a>(t <a href="../../time.html">time</a>.<a href="../../time.html#name-Time">Time</a>) <a href="../../builtin.html#name-int64">int64</a></span></i></div></div>
<div id="exported-constants"><span class="title">Package-Level Constants<span class="title-stat"><i> (total 4, in which 3 are exported)</i></span></span>

<div class="anchor value-res" id="name-BitLenMachineID">	<input type='checkbox' class="fold" id="BitLenMachineID-fold-content"><label for="BitLenMachineID-fold-content">const <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-20">BitLenMachineID</a> = 16 // bit length of machine id</label><span id='BitLenMachineID-fold-content-docs' class="fold-docs">
		These constants are the bit lengths of Sonyflake ID parts.

</span></div><div class="anchor value-res" id="name-BitLenSequence">	<input type='checkbox' class="fold" id="BitLenSequence-fold-content"><label for="BitLenSequence-fold-content">const <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-19">BitLenSequence</a> = 8 // bit length of sequence number</label><span id='BitLenSequence-fold-content-docs' class="fold-docs">
		These constants are the bit lengths of Sonyflake ID parts.

</span></div><div class="anchor value-res" id="name-BitLenTime">	<input type='checkbox' class="fold" id="BitLenTime-fold-content"><label for="BitLenTime-fold-content">const <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-18">BitLenTime</a> = 39 // bit length of time</label><span id='BitLenTime-fold-content-docs' class="fold-docs">
		These constants are the bit lengths of Sonyflake ID parts.

</span></div>	<input type='checkbox' class="showhide" id="unexported-constants-showhide"><i><label for="unexported-constants-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-constants-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor value-res hidden" id="name-sonyflakeTimeUnit"><i>	<span class="nodocs">const <a href="../../../src/github.com/sony/sonyflake/sonyflake.go.html#line-108">sonyflakeTimeUnit</a> = 1e+07 // nsec, i.e. 10 msec</span></i></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/article/tool-golds.html"><b>Golds</b></a> <i>v0.3.6</i>. (GOOS=darwin GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>